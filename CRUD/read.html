<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="./jsp.js"></script>
</head>
<body>
  <h1>잔소리 게시판</h1>  
  <form action="update_action.html" method="get">
    <input type="hidden" name="gid" value="">
    제목 <input type="text" name="n_title" value="잔소리" autofocus required> <br/>
    글쓰니 <input type="text" name="n_writer" value="꽉수밍"> <br/>
    글쓰니 능력 <br/>
    자바 <input type="checkbox" name="n_skills" value="java">
    디비 <input type="checkbox" name="n_skills" value="db">
    화면 <input type="checkbox" name="n_skills" value="js">
    스프링 <input type="checkbox" name="n_skills" value="spring"> <br/>
    <textarea name="n_content" id="30" cols="30" rows="10">답변은 짱</textarea> <br/>
    <input type="submit" value="수정">
    <a href='list.html'>목록가깅</a>
  </form>
  <script>
    var v_gid = request.getParameter("gid");
    var v_datas = JSON.parse(localStorage.getItem("gesiTable"));
    for (var i = 0; i < v_datas.length; i++) {
      if(v_datas[i].id == v_gid) {  // 해당 글을 찾아서
        document.querySelector("input[name=gid]").value = v_datas[i].id;
        document.querySelector("input[name=n_title]").value = v_datas[i].title;
        document.querySelector("input[name=n_writer]").value = v_datas[i].writer;
        document.querySelector("textarea[name=n_content]").value = v_datas[i].content;
        var skills = v_datas[i].skills;
        for (var j = 0; j < skills.length; j++) {
          if (skills[j].indexOf("java") > -1) {
            document.querySelector("input[value=java]").checked = true;
          }
          if (skills[j].indexOf("db") > -1) {
            document.querySelector("input[value=db]").checked = true;
          }
          if (skills[j].indexOf("js") > -1) {
            document.querySelector("input[value=js]").checked = true;
          }
          if (skills[j].indexOf("spring") > -1) {
            document.querySelector("input[value=spring]").checked = true;
          }
        }
        break;
      }
    }
  </script>
</body>
</html>